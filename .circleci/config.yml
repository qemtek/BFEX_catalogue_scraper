version: 2
jobs:
    test_project:
      working_directory: ~/project
      docker:
          - image: circleci/python:3.7.2
      steps:
        - checkout
        - run:
            name: Running Tests
            command: |
              virtualenv venv
              . venv/bin/activate
              pip install --upgrade pip
              pip install -r requirements.txt
              pytest -vv tests
workflows:
  version: 2
  test-all:
    jobs:
      - test_project